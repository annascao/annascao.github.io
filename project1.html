<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Anna's Portfolio</title>
  <meta name="description" content="Anna's Portfolio Page">
  <meta name="keywords" content="Anna, Anna Cao, Anna Portfolio, Anna Cao Portfolio, Github Pages">
  <link rel="stylesheet" href="css/anna-web.css">
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@900&display=swap">

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-TJT82Y7LSF"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-TJT82Y7LSF');
  </script>

</head>
<body class="project-page">

  <!-- Navigation Bar -->
  <header>
    <nav>
      <ul class="nav-left">
        <li>
          <a href="https://github.com/annascao" class="nav-icon" target="_blank"><i class="fab fa-github"></i></a>
        </li>
        <li>
          <a href="https://linkedin.com/in/annashuqicao" class="nav-icon" target="_blank"><i class="fab fa-linkedin"></i></a>
        </li>
      </ul>

      <ul class="nav-right">
        <li>
          <a href="index.html" >HOME</a>
        </li>
        <!-- <li>
          <a href="docs/Anna-Cao-Resume.pdf" target="_blank">RESUME</a>
        </li> -->
      </ul>

      <ul class="hamburger">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </ul>

    </nav>
  </header>

  <!-- Projects Section (using bootstrap cause easier to maintain/add more content and adding some stylistic changes) -->
  <div class="container py-5" id="Projects">

    <div class="row">
      <!-- Start of a Project Card -->
      <div class="col-md-9">

        <div id="Descript_2"  class="section">
          <h2>UBC AeroDesign Avionics</h2>
          <div class="project-tags mb-3">
            <span class="badge custom-badge-1">C/C++</span>
            <span class="badge custom-badge-1">RTOS</span>
            <span class="badge custom-badge-1">STM32CubeIDE</span>
            <span class="badge custom-badge-1">PlatformIO</span>
            <span class="badge custom-badge-1">Altium</span>
            <span class="badge custom-badge-1">Soldering</span>
          </div>
            <p>I am a part of UBC AeroDesign, a student design team that designs and builds fixed-wing aircraft to compete in the annual SAE Aero Design Competition.<br>

            As a lead on the Avionics team, I focus on designing and developing the flight controller for the plane, including sensing and data acquisition systems, hardware design, firmware implementation, and integration with the entire aircraft.
            </p>
            <div class="row justify-content-center text-center">
              <div class="col-md-6 mb-3">
                <img src="docs/advanced_plane.jpg" alt="Coolest Plane Ever" class="img-fluid">
              </div>
              <div class="col-md-6 mb-3">
                <img src="docs/adv2025.png" alt="Coolest Plane Ever" class="img-fluid">
              </div>
            </div>
            
        </div>

        <div id="Year_3"  class="section">
          <h4>2024-Present</h4>
          
          <div class="row align-items-center mb-5">
            <div class="col-md-6 text-center d-flex flex-column gap-3">
              <img src="docs/fc.png" alt="Image 1">
              <img src="docs/avionics_in_plane.jpg" alt="Image 3" class="img-fluid rounded shadow">
              <!-- Add more images here as needed -->
            </div>
            <div class="col-md-6">
              <h5>Flight Controller Hardware</h5>
              <p>
                <ul>
                  <li>Processor: STM32H7Z23 Arm Cortex-M7</li>
                  <li>4 UART interfaces
                    <ul>
                      <li>ELRS receiver </li>
                      <li>ZEDF9P GPS module</li>
                      <li>RFD900 telemetry radio</li>
                      <li>Serial debug</li>
                    </ul>
                  </li>
                  <li>3 I2C interfaces
                    <ul>
                      <li>BMP390 altitude sensor</li>
                      <li>BNO055 imu module </li>
                      <li>EEPROM memory</li>
                    </ul>
                  </li>
                  <li>1 CAN interface
                    <ul>
                      <li>MS4525 external air speed sensor board</li>
                    </ul>
                  </li>
                  <li>8 PWM timer channels
                    <ul>
                      <li>7 servos (2 aileron, 2 elevator, 1 rudder/LDG, 2 payload)</li>
                      <li>1 ESC (prop motor)</li>
                    </ul>
                  </li>
                  <li>1 SDMMC interface
                    <ul>
                      <li>MicroSD card</li>
                    </ul>
                  </li>
                  <li>4 ADC pins
                    <ul>
                      <li>Power sensing</li>
                    </ul>
                  </li>
                  <li>1 SPI interface
                    <ul>
                      <li>Mega 5MP camera</li>
                    </ul>
                  </li>
                </ul>
              </p>
            </div>
          </div>
          <div class="text-center my-3">
            <figure>
              <img src="docs/avionics_stack.png" alt="Avionics Stack Diagram" class="img-fluid rounded shadow" style="max-width: 500px;">
              <figcaption class="mt-2 text-muted">Avionics PCBA, including the ZED-F9P GNSS board (top, red), flight controller (middle), and power distribution board (bottom). The total stack is 11 x 6 x 6 cm and weighs less than 200 grams. </figcaption>
            </figure>
          </div>

          <h5>Flight Controller Firmware</h5>
          <p>
            The flight control firmware is structured around an event-driven, multi-threaded architecture using the FreeRTOS real-time operating system. I focused on the sensors and data acquisition task, one of three main FreeRTOS tasks in the flight controller. For each sensor, we developed modular, maintainable, and easy-to-use drivers in C using the STM32 HAL. Below is a diagram of the sensor task and how these drivers were used to collect and process data for use by other tasks.
          </p>
          <div class="text-center my-3">
            <img src="docs/sensors_task.png" alt="Sensor Task Diagram" style="max-width: 600px;">
          </div>
          <p>
            <a href="https://drive.google.com/file/d/1Xm6hkKVy9Q1noGaoRq-NTiBs1e4_nnBj/view" target="_blank" rel="noopener noreferrer">
              ðŸŽ¥ Watch the plane fly!
            </a>
          </p>
        </div>

        <div id="Year_2"  class="section">
          <h4>2023-2024</h4>
          <h5>Sensor Board</h5>
            <p>
              <ul>
                <li>Processor</li>
                  <ul>
                    <li>The initial design used the STM32F103C8T6 Arm Cortex-M3</li>
                    <li>After realizing the limited amount of flash memory, we chose a new processor, the STM32F103CBT6 with 128kB flash</li>
                  </ul>
                <li>Suite of sensors for various flight data includingâ€¦
                  <ul>
                    <li>IMU, Barometer, GNSS Module (RTK capable), Airspeed Sensor</li>
                  </ul>
                </li>
                <li>Data logging & telemetry</li>
              </ul>
            </p>
            <div class="text-center">
              <div class="col-6 d-inline-block">
                <img src="docs/sensor_board.jpg" alt="Project Image" class="img-fluid me-3 mb-3">
              </div>
            </div>

            <p>
            My codebase which was used during 2024 SAEâ€™s competition was written in C++ in PlatformIO using the Arduino framework.
            <ul>
              <li>This choice was made due time constraints and designing/bringing up/validating the PCB in parallel</li>
              <li>Pros: Pre-existing libraries allow for faster development</li>
              <li>Cons: Libraries are very abstracted and there is a lot of unnecessary code, makes it difficult to customize firmware</li>
            </ul>
            There are 3 Tasks:
            <ol>
              <li>Collect sensor data and push to a message queue</li>
              <li>Pop the sensor data struct off the message queue and send it via UART as well as save to SD card</li>
              <li>Calibrate sensors - I have now learned and believe that this should not be a task. It would make more sense to have calibration separate from the data acquisition firmware and be performed prior to flight. I initially wanted to be able to calibrate upon a button press at any given time, but we only ever calibrate before flight.</li>
            </ol>
            </p>
            <br>

            <p>Cool Highlight: Testing sensor board with ZEDF9P using RTK!!! Below shows logged GNSS coordinates without and with RTK</p>
            <div class="row justify-content-center text-center">
              <div class="col-md-6 mb-3">
                <img src="docs/wo_rtk.png" alt="Coolest Plane Ever" class="img-fluid">
              </div>
              <div class="col-md-6 mb-3">
                <img src="docs/w_rtk.png" alt="Coolest Plane Ever" class="img-fluid">
              </div>
            </div>
            <br>

        </div>

      </div>

      <!-- Menu Bar Section -->
      <div class="col-md-3 menu-container">
        <div class="menu-bar sticky-menu p-3">
          <a class="text-decoration-none custom-colour-1 d-block mb-2" href=#Descript_2>What Is It</a>
          <a class="text-decoration-none custom-colour-1 d-block mb-2" href=#Year_3>2024-Present</a>
          <a class="text-decoration-none custom-colour-1 d-block mb-2" href=#Year_2>2023-2024</a>
        </div>
      </div>

      <!-- End of a Project Card -->
    </div>
  </div>
  <button id="scrollToTop" class="btn btn-primary position-fixed bottom-0 end-0 m-4 rounded-circle" onclick="scrollToTop()">
    <i class="fa-solid fa-arrow-up"></i>
  </button>


</body>

  <!-- Footer Section -->
  <footer>
    <a href="https://github.com/annascao" target="_blank">
      <i class="fab fa-github icon"></i>
    </a>
    <a href="https://linkedin.com/in/annashuqicao" target="_blank">
      <i class="fab fa-linkedin icon"></i>
    </a>
    <p>Anna Cao</p>
  </footer>

    <!-- Wait for page to fully load and then add scripts-->
    <script src="js/scrollup.js"></script>
    <script src="js/mobile.js"></script>
    <script src="js/bootstrap.min.js"></script>

</html>
